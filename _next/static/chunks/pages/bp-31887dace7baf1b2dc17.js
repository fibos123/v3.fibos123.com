_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{"/dST":function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bp",function(){return r("mrCa")}])},"1OyB":function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",(function(){return n}))},Krzc:function(t,e,r){"use strict";var n=r("o0o1"),a=r.n(n),i=r("HaE+"),s=r("1OyB");function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=r("rePB"),u=r("vDqi"),l=r.n(u),d=r("LvDl"),f=r.n(d),h=r("rOcY"),p=function(){function t(){Object(s.a)(this,t)}var e,r,n;return e=t,n=[{key:"generateBpList",value:function(t,e,r){var n=this,a=[];return t.forEach((function(t){a.push({owner:t.owner,candidate_name:"",logo:"",staked:0,claim_rewards_total:0,claim_rewards_unreceived:0,weight_percent:0,urlFull:"",urlSimple:"",json:void 0,producer:t})})),a.map((function(t,a){t.staked=n.votesToStaked(parseInt(t.producer.total_votes));var i=n.getClaimRewards(t.producer,r,a+1);t.claim_rewards_total=i.total,t.claim_rewards_unreceived=i.unreceived,t.weight_percent=parseInt(t.producer.total_votes)/parseInt(r.total_producer_vote_weight)*100;try{var s=new URL(t.producer.url).origin;s&&(t.urlFull=t.producer.url,t.urlSimple=s)}catch(l){console.info(l)}var c=e.find((function(e){return e.owner===t.owner}));if(c)try{var o=JSON.parse(c.json);t.candidate_name=f.a.get(o,"org.candidate_name","");var u=f.a.get(o,"org.branding.logo_256");u&&"https://"===u.substring(0,8)&&(t.logo=u),t.json=o}catch(l){console.info(l)}return t})),a}}],(r=null)&&c(e.prototype,r),n&&c(e,n),t}();Object(o.a)(p,"votesToStaked",(function(t){if(0===t)return 0;var e=Date.now()/1e3-946684800,r=Math.floor(e/604800)/52,n=t/Math.pow(2,r)/1e4;return Math.round(n)})),Object(o.a)(p,"getClaimRewards",(function(t,e,r){if(!e.perblock_bucket)return{total:0,unreceived:0};var n=e.perblock_bucket*t.unpaid_blocks/e.total_unpaid_blocks/1e4,a=e.pervote_bucket*parseInt(t.total_votes)/parseInt(e.total_producer_vote_weight)/1e4,i=r<=21?320:n,s=i+a>=100?i+a:0,c=1*t.last_claim_time/1e3+864e5>Date.now()?0:s;return{total:Math.round(s),unreceived:Math.round(c)}})),Object(o.a)(p,"getInfo",Object(i.a)(a.a.mark((function t(){var e,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.get(h.a.rpc_get_info);case 2:return e=t.sent,r=f.a.get(e,"data",{}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))),Object(o.a)(p,"getGlobal",Object(i.a)(a.a.mark((function t(){var e,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.post(h.a.rpc_get_table_rows,JSON.stringify({code:"eosio",json:!0,limit:1,scope:"eosio",table:"global"}));case 2:return e=t.sent,r=f.a.get(e,"data.rows[0]",{}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))),Object(o.a)(p,"getProducers",Object(i.a)(a.a.mark((function t(){var e,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.post(h.a.rpc_get_table_rows,JSON.stringify({scope:"eosio",code:"eosio",table:"producers",json:!0,limit:100,key_type:"float64",index_position:2}));case 2:return e=t.sent,r=f.a.get(e,"data.rows",[]),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))),Object(o.a)(p,"getProducerJson",Object(i.a)(a.a.mark((function t(){var e,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.post(h.a.rpc_get_table_rows,JSON.stringify({json:!0,code:"producerjson",scope:"producerjson",table:"producerjson",limit:1e3}));case 2:return e=t.sent,r=f.a.get(e,"data.rows",[]),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))),Object(o.a)(p,"getAccount",function(){var t=Object(i.a)(a.a.mark((function t(e){var r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.post(h.a.rpc_get_account,JSON.stringify({account_name:e}));case 2:return r=t.sent,n=f.a.get(r,"data",{}),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());e.a=p},ODXe:function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,a=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(o){a=!0,i=o}finally{try{n||null==c.return||c.return()}finally{if(a)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"===typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(e,"a",(function(){return a}))},Wgwc:function(t,e,r){t.exports=function(){"use strict";var t="millisecond",e="second",r="minute",n="hour",a="day",i="week",s="month",c="quarter",o="year",u="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},p={s:h,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),a=r%60;return(e<=0?"+":"-")+h(n,2,"0")+":"+h(a,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),a=e.clone().add(n,s),i=r-a<0,c=e.clone().add(n+(i?-1:1),s);return+(-(n+(r-a)/(i?a-c:c-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(l){return{M:s,y:o,w:i,d:a,D:u,h:n,m:r,s:e,ms:t,Q:c}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},m="en",b={};b[m]=f;var v=function(t){return t instanceof O},g=function(t,e,r){var n;if(!t)return m;if("string"==typeof t)b[t]&&(n=t),e&&(b[t]=e,n=t);else{var a=t.name;b[a]=t,n=a}return!r&&n&&(m=n),n||!r&&m},j=function(t,e){if(v(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new O(r)},x=p;x.l=g,x.i=v,x.w=function(t,e){return j(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var O=function(){function f(t){this.$L=g(t.locale,null,!0),this.parse(t)}var h=f.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(x.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(l);if(n){var a=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return x},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var r=j(t);return this.startOf(e)<=r&&r<=this.endOf(e)},h.isAfter=function(t,e){return j(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<j(t)},h.$g=function(t,e,r){return x.u(t)?this[e]:this.set(r,t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,c){var l=this,d=!!x.u(c)||c,f=x.p(t),h=function(t,e){var r=x.w(l.$u?Date.UTC(l.$y,e,t):new Date(l.$y,e,t),l);return d?r:r.endOf(a)},p=function(t,e){return x.w(l.toDate()[t].apply(l.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(e)),l)},m=this.$W,b=this.$M,v=this.$D,g="set"+(this.$u?"UTC":"");switch(f){case o:return d?h(1,0):h(31,11);case s:return d?h(1,b):h(0,b+1);case i:var j=this.$locale().weekStart||0,O=(m<j?m+7:m)-j;return h(d?v-O:v+(6-O),b);case a:case u:return p(g+"Hours",0);case n:return p(g+"Minutes",1);case r:return p(g+"Seconds",2);case e:return p(g+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(i,c){var l,d=x.p(i),f="set"+(this.$u?"UTC":""),h=(l={},l[a]=f+"Date",l[u]=f+"Date",l[s]=f+"Month",l[o]=f+"FullYear",l[n]=f+"Hours",l[r]=f+"Minutes",l[e]=f+"Seconds",l[t]=f+"Milliseconds",l)[d],p=d===a?this.$D+(c-this.$W):c;if(d===s||d===o){var m=this.clone().set(u,1);m.$d[h](p),m.init(),this.$d=m.set(u,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[x.p(t)]()},h.add=function(t,c){var u,l=this;t=Number(t);var d=x.p(c),f=function(e){var r=j(l);return x.w(r.date(r.date()+Math.round(e*t)),l)};if(d===s)return this.set(s,this.$M+t);if(d===o)return this.set(o,this.$y+t);if(d===a)return f(1);if(d===i)return f(7);var h=(u={},u[r]=6e4,u[n]=36e5,u[e]=1e3,u)[d]||1,p=this.$d.getTime()+t*h;return x.w(p,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var r=t||"YYYY-MM-DDTHH:mm:ssZ",n=x.z(this),a=this.$locale(),i=this.$H,s=this.$m,c=this.$M,o=a.weekdays,u=a.months,l=function(t,n,a,i){return t&&(t[n]||t(e,r))||a[n].substr(0,i)},f=function(t){return x.s(i%12||12,t,"0")},h=a.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:c+1,MM:x.s(c+1,2,"0"),MMM:l(a.monthsShort,c,u,3),MMMM:l(u,c),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:l(a.weekdaysMin,this.$W,o,2),ddd:l(a.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(i),HH:x.s(i,2,"0"),h:f(1),hh:f(2),a:h(i,s,!0),A:h(i,s,!1),m:String(s),mm:x.s(s,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:n};return r.replace(d,(function(t,e){return e||p[t]||n.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,u,l){var d,f=x.p(u),h=j(t),p=6e4*(h.utcOffset()-this.utcOffset()),m=this-h,b=x.m(this,h);return b=(d={},d[o]=b/12,d[s]=b,d[c]=b/3,d[i]=(m-p)/6048e5,d[a]=(m-p)/864e5,d[n]=m/36e5,d[r]=m/6e4,d[e]=m/1e3,d)[f]||m,l?b:x.a(b)},h.daysInMonth=function(){return this.endOf(s).$D},h.$locale=function(){return b[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=g(t,e,!0);return n&&(r.$L=n),r},h.clone=function(){return x.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}(),w=O.prototype;return j.prototype=w,[["$ms",t],["$s",e],["$m",r],["$H",n],["$W",a],["$M",s],["$y",o],["$D",u]].forEach((function(t){w[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),j.extend=function(t,e){return t.$i||(t(e,O,j),t.$i=!0),j},j.locale=g,j.isDayjs=v,j.unix=function(t){return j(1e3*t)},j.en=b[m],j.Ls=b,j.p={},j}()},cBaE:function(t,e,r){"use strict";var n=r("Wgwc"),a=r.n(n);e.a={formatNumber:function(t){return t.toLocaleString()},formatPercent:function(t){return t.toFixed(3)},formatDate:function(t){return a()(t).format("YYYY-MM-DD HH:mm:ss")}}},mrCa:function(t,e,r){"use strict";r.r(e),r.d(e,"default",(function(){return p}));var n=r("nKUr"),a=r("ODXe"),i=r("o0o1"),s=r.n(i),c=r("HaE+"),o=r("apO0"),u=r("q1tI"),l=r("YFqc"),d=r.n(l),f=r("Krzc"),h=r("cBaE");function p(){var t=Object(u.useState)([{name:"\u751f\u4ea7\u8005",value:""},{name:"\u51fa\u5757\u65f6\u95f4",value:""},{name:"\u6700\u65b0\u533a\u5757",value:""},{name:"\u4e0d\u53ef\u9006\u533a\u5757",value:""}]),e=t[0],r=t[1],i=Object(u.useState)([]),l=i[0],p=i[1];return Object(u.useEffect)((function(){function t(){return e.apply(this,arguments)}function e(){return(e=Object(c.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.getInfo();case 2:e=t.sent,n=[{name:"\u751f\u4ea7\u8005",value:e.head_block_producer},{name:"\u51fa\u5757\u65f6\u95f4",value:h.a.formatDate(e.head_block_time+"Z")},{name:"\u6700\u65b0\u533a\u5757",value:h.a.formatNumber(e.head_block_num)},{name:"\u4e0d\u53ef\u9006\u533a\u5757",value:h.a.formatNumber(e.last_irreversible_block_num)}],r(n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function n(){return(n=Object(c.a)(s.a.mark((function t(){var e,r,n,i,c,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([f.a.getProducers(),f.a.getProducerJson(),f.a.getGlobal()]);case 2:e=t.sent,r=Object(a.a)(e,3),n=r[0],i=r[1],c=r[2],o=f.a.generateBpList(n,i,c),p(o);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t(),function(){n.apply(this,arguments)}();var i=setInterval(t,1e3);return function(){return clearInterval(i)}}),[]),Object(n.jsx)(o.a,{title:"\u8282\u70b9\u5217\u8868 | FIBOS \u5bfc\u822a",children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"px-6",children:[Object(n.jsx)("div",{className:"text-2xl pb-4",children:"\u8282\u70b9\u5217\u8868"}),Object(n.jsx)("div",{className:"flex flex-wrap gap-4 text-center",children:e.map((function(t){return Object(n.jsxs)("div",{className:"flex-1 rounded bg-white p-4",children:[Object(n.jsx)("h2",{className:"text-gray-600",children:t.name}),Object(n.jsx)("div",{className:"text-lg h-6 whitespace-no-wrap",children:t.value})]},t.name)}))})]}),Object(n.jsx)("div",{className:"px-6 bg-white mt-6",children:Object(n.jsx)("div",{className:"overflow-x-auto",children:Object(n.jsxs)("table",{className:"w-full my-2",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{className:"text-center w-6",children:"#"}),Object(n.jsx)("th",{className:"text-center w-32",children:"\u8282\u70b9\u6807\u8bc6"}),Object(n.jsx)("th",{children:"\u8282\u70b9\u540d\u79f0"}),Object(n.jsx)("th",{children:"\u72b6\u6001"}),Object(n.jsx)("th",{children:"\u5f97\u7968\u7387"}),Object(n.jsx)("th",{children:"\u6bcf\u65e5\u6536\u76ca"}),Object(n.jsx)("th",{children:"\u672a\u9886\u53d6\u6536\u76ca"}),Object(n.jsx)("th",{children:"\u7f51\u5740"}),Object(n.jsx)("th",{children:"\u64cd\u4f5c"})]})}),Object(n.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((function(t,e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"text-gray-500 text-center",children:e+1}),Object(n.jsx)("td",{className:"px-2 py-2 text-center",children:t.logo&&Object(n.jsx)("span",{className:"h-12 w-12 block bg-cover mx-auto",style:{backgroundImage:"url("+t.logo+")"}})}),Object(n.jsxs)("td",{children:[Object(n.jsx)("div",{children:t.candidate_name}),Object(n.jsx)("div",{className:"text-gray-500",children:t.owner})]}),Object(n.jsx)("td",{children:{active:Object(n.jsx)("span",{className:"px-2 inline-flex text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"\u5f53\u9009\u8282\u70b9"}),waiting:Object(n.jsx)("span",{className:"px-2 inline-flex text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"\u5f85\u673a\u8282\u70b9"})}[e+1<=21?"active":"waiting"]}),Object(n.jsxs)("td",{children:[Object(n.jsxs)("div",{children:[h.a.formatPercent(t.weight_percent)," %"]}),Object(n.jsxs)("div",{className:"text-gray-500 text-sm",children:[h.a.formatNumber(t.staked)," FO"]})]}),Object(n.jsxs)("td",{className:"text-gray-500",children:[h.a.formatNumber(t.claim_rewards_total)," FO"]}),Object(n.jsxs)("td",{className:t.claim_rewards_unreceived?"text-green-500 font-bold":"text-gray-500",children:[h.a.formatNumber(t.claim_rewards_unreceived)," FO"]}),Object(n.jsx)("td",{className:"text-gray-500",children:Object(n.jsx)("a",{href:t.urlFull,target:"_blank",className:"text-indigo-500 hover:text-indigo-800 transition duration-150 ease-in-out",children:t.urlSimple})}),Object(n.jsx)("td",{children:Object(n.jsx)(d.a,{href:"/bp/detail?account="+t.owner,children:Object(n.jsx)("a",{href:"/bp/detail?account="+t.owner,className:"text-indigo-500 hover:text-indigo-800 transition duration-150 ease-in-out",children:"\u8be6\u60c5"})})})]},e)}))})]})})})]})})}},rePB:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return n}))}},[["/dST",0,2,4,1,3,5]]]);