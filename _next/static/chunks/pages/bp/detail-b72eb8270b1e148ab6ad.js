_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{"1OyB":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},"3LJ5":function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return v}));var r=n("nKUr"),a=n("o0o1"),i=n.n(a),o=n("ODXe"),s=n("HaE+"),u=n("apO0"),c=n("20a2"),l=n("YFqc"),f=n.n(l),d=n("q1tI"),h=n("Krzc"),p=n("cBaE");function v(){var t=Object(c.useRouter)().query.account,e=Object(d.useState)([]),n=e[0],a=e[1];return Object(d.useEffect)((function(){function e(){return(e=Object(s.a)(i.a.mark((function e(){var n,r,s,u,c,l,f,d,v,m,b,y,g,_,w;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"string"===typeof t){e.next=3;break}return console.error("not account"),e.abrupt("return");case 3:return e.next=5,h.a.getAccount(t);case 5:return n=e.sent,e.next=8,Promise.all([h.a.getProducers(),h.a.getProducerJson(),h.a.getGlobal()]);case 8:if(r=e.sent,s=Object(o.a)(r,3),u=s[0],c=s[1],l=s[2],f=h.a.generateBpList(u,c,l),d=f.find((function(e){return e.owner===t}))){e.next=18;break}return console.log("not bp"),e.abrupt("return");case 18:if(v=[{title:"\u57fa\u672c\u4fe1\u606f",list:[{key:"\u521b\u5efa\u65f6\u95f4",value:p.a.formatDate(n.created+"Z")},{key:"\u6392\u540d",value:(f.findIndex((function(e){return e.owner===t}))+1).toString()},{key:"\u5f97\u7968\u7387",value:p.a.formatPercent(d.weight_percent)+" %"},{key:"\u6709\u6548\u7968\u6570",value:p.a.formatNumber(d.staked)+" FO"},{key:"\u5f97\u7968\u6743\u91cd",value:p.a.formatNumber(parseInt(d.producer.total_votes))}]},{title:"\u6536\u76ca\u4fe1\u606f",list:[{key:"\u6bcf\u65e5\u6536\u76ca",value:p.a.formatNumber(d.claim_rewards_total)+" FO"},{key:"\u672a\u9886\u53d6\u6536\u76ca",value:p.a.formatNumber(d.claim_rewards_unreceived)+" FO"},{key:"\u672a\u652f\u4ed8\u5757",value:p.a.formatNumber(d.producer.unpaid_blocks)},{key:"\u4e0a\u6b21\u9886\u53d6\u65f6\u95f4",value:p.a.formatDate(d.producer.last_claim_time/1e3)}]}],d.json){for(y in m=[],b=[],d.json.org)m.push({key:y,value:"object"===typeof d.json.org[y]?JSON.stringify(d.json.org[y]):d.json.org[y]});v.push({title:"JSON \u4fe1\u606f",list:m}),g=d.json.nodes.find((function(t){return"producer"===t.node_type})),_=d.json.nodes.find((function(t){return"full"===t.node_type})),w=d.json.nodes.find((function(t){return"seed"===t.node_type})),g&&b.push({key:"producer",value:"\u56fd\u5bb6\u6216\u5730\u533a\uff1a\n".concat(g.location.name,", ").concat(g.location.country)}),_&&b.push({key:"full",value:"\u56fd\u5bb6\u6216\u5730\u533a\uff1a\n".concat(_.location.name,", ").concat(_.location.country,"\n\u63a5\u5165\u70b9\u5730\u5740\uff1a\n").concat(_.api_endpoint,"\n").concat(_.ssl_endpoint)}),w&&b.push({key:"seed",value:"\u56fd\u5bb6\u6216\u5730\u533a\uff1a\n".concat(w.location.name,", ").concat(w.location.country,"\n\u63a5\u5165\u70b9\u5730\u5740\uff1a\n").concat(w.p2p_endpoint)}),v.push({title:"\u63a5\u5165\u70b9\u4fe1\u606f",list:b})}else v.push({title:"JSON \u4fe1\u606f",list:[{key:"\u8be5\u8282\u70b9\u672a\u8bbe\u7f6e JSON",value:""}]});a(v);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(r.jsx)(u.a,{title:"\u8282\u70b9\u4fe1\u606f | FIBOS \u5bfc\u822a",children:Object(r.jsxs)("div",{className:"px-6",children:[Object(r.jsxs)("div",{className:"bg-white p-6 rounded",children:[Object(r.jsx)("div",{className:"border-b pb-4",children:Object(r.jsxs)("h1",{className:"text-2xl",children:[t," \u8282\u70b9\u8be6\u60c5"]})}),Object(r.jsx)("div",{className:"overflow-x-auto",children:n.map((function(t){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{className:"text-xl py-4",children:t.title}),Object(r.jsx)("table",{className:"w-full",children:Object(r.jsx)("tbody",{children:t.list.map((function(t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"p-4 text-right w-32",children:t.key}),Object(r.jsx)("td",{style:{whiteSpace:"break-spaces"},children:t.value})]},t.key)}))})})]},t.title)}))})]}),Object(r.jsx)("div",{className:"py-6",children:Object(r.jsx)(f.a,{href:"/bp",children:Object(r.jsx)("a",{href:"/bp",className:"text-indigo-500 hover:text-indigo-800 transition duration-150 ease-in-out",children:"\u8fd4\u56de\u5217\u8868"})})})]})})}},Krzc:function(t,e,n){"use strict";var r=n("o0o1"),a=n.n(r),i=n("HaE+"),o=n("1OyB");function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=n("rePB"),c=n("vDqi"),l=n.n(c),f=n("LvDl"),d=n.n(f),h=n("rOcY"),p=function(){function t(){Object(o.a)(this,t)}var e,n,r;return e=t,r=[{key:"generateBpList",value:function(t,e,n){var r=this,a=[];return t.forEach((function(t){a.push({owner:t.owner,candidate_name:"",logo:"",staked:0,claim_rewards_total:0,claim_rewards_unreceived:0,weight_percent:0,urlFull:"",urlSimple:"",json:void 0,producer:t})})),a.map((function(t,a){t.staked=r.votesToStaked(parseInt(t.producer.total_votes));var i=r.getClaimRewards(t.producer,n,a+1);t.claim_rewards_total=i.total,t.claim_rewards_unreceived=i.unreceived,t.weight_percent=parseInt(t.producer.total_votes)/parseInt(n.total_producer_vote_weight)*100;try{var o=new URL(t.producer.url).origin;o&&(t.urlFull=t.producer.url,t.urlSimple=o)}catch(l){console.info(l)}var s=e.find((function(e){return e.owner===t.owner}));if(s)try{var u=JSON.parse(s.json);t.candidate_name=d.a.get(u,"org.candidate_name","");var c=d.a.get(u,"org.branding.logo_256");c&&"https://"===c.substring(0,8)&&(t.logo=c),t.json=u}catch(l){console.info(l)}return t})),a}}],(n=null)&&s(e.prototype,n),r&&s(e,r),t}();Object(u.a)(p,"votesToStaked",(function(t){if(0===t)return 0;var e=Date.now()/1e3-946684800,n=Math.floor(e/604800)/52,r=t/Math.pow(2,n)/1e4;return Math.round(r)})),Object(u.a)(p,"getClaimRewards",(function(t,e,n){if(!e.perblock_bucket)return{total:0,unreceived:0};var r=e.perblock_bucket*t.unpaid_blocks/e.total_unpaid_blocks/1e4,a=e.pervote_bucket*parseInt(t.total_votes)/parseInt(e.total_producer_vote_weight)/1e4,i=n<=21?320:r,o=i+a>=100?i+a:0,s=1*t.last_claim_time/1e3+864e5>Date.now()?0:o;return{total:Math.round(o),unreceived:Math.round(s)}})),Object(u.a)(p,"getInfo",Object(i.a)(a.a.mark((function t(){var e,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.get(h.a.rpc_get_info);case 2:return e=t.sent,n=d.a.get(e,"data",{}),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))),Object(u.a)(p,"getGlobal",Object(i.a)(a.a.mark((function t(){var e,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.post(h.a.rpc_get_table_rows,JSON.stringify({code:"eosio",json:!0,limit:1,scope:"eosio",table:"global"}));case 2:return e=t.sent,n=d.a.get(e,"data.rows[0]",{}),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))),Object(u.a)(p,"getProducers",Object(i.a)(a.a.mark((function t(){var e,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.post(h.a.rpc_get_table_rows,JSON.stringify({scope:"eosio",code:"eosio",table:"producers",json:!0,limit:100,key_type:"float64",index_position:2}));case 2:return e=t.sent,n=d.a.get(e,"data.rows",[]),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))),Object(u.a)(p,"getProducerJson",Object(i.a)(a.a.mark((function t(){var e,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.post(h.a.rpc_get_table_rows,JSON.stringify({json:!0,code:"producerjson",scope:"producerjson",table:"producerjson",limit:1e3}));case 2:return e=t.sent,n=d.a.get(e,"data.rows",[]),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))),Object(u.a)(p,"getAccount",function(){var t=Object(i.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.post(h.a.rpc_get_account,JSON.stringify({account_name:e}));case 2:return n=t.sent,r=d.a.get(n,"data",{}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());e.a=p},ODXe:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(u){a=!0,i=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return a}))},Sur2:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bp/detail",function(){return n("3LJ5")}])},Wgwc:function(t,e,n){t.exports=function(){"use strict";var t="millisecond",e="second",n="minute",r="hour",a="day",i="week",o="month",s="quarter",u="year",c="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},p={s:h,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),a=n%60;return(e<=0?"+":"-")+h(r,2,"0")+":"+h(a,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),a=e.clone().add(r,o),i=n-a<0,s=e.clone().add(r+(i?-1:1),o);return+(-(r+(n-a)/(i?a-s:s-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(l){return{M:o,y:u,w:i,d:a,D:c,h:r,m:n,s:e,ms:t,Q:s}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},v="en",m={};m[v]=d;var b=function(t){return t instanceof w},y=function(t,e,n){var r;if(!t)return v;if("string"==typeof t)m[t]&&(r=t),e&&(m[t]=e,r=t);else{var a=t.name;m[a]=t,r=a}return!n&&r&&(v=r),r||!n&&v},g=function(t,e){if(b(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new w(n)},_=p;_.l=y,_.i=b,_.w=function(t,e){return g(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var w=function(){function d(t){this.$L=y(t.locale,null,!0),this.parse(t)}var h=d.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(_.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var a=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return _},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var n=g(t);return this.startOf(e)<=n&&n<=this.endOf(e)},h.isAfter=function(t,e){return g(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<g(t)},h.$g=function(t,e,n){return _.u(t)?this[e]:this.set(n,t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,s){var l=this,f=!!_.u(s)||s,d=_.p(t),h=function(t,e){var n=_.w(l.$u?Date.UTC(l.$y,e,t):new Date(l.$y,e,t),l);return f?n:n.endOf(a)},p=function(t,e){return _.w(l.toDate()[t].apply(l.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(e)),l)},v=this.$W,m=this.$M,b=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case u:return f?h(1,0):h(31,11);case o:return f?h(1,m):h(0,m+1);case i:var g=this.$locale().weekStart||0,w=(v<g?v+7:v)-g;return h(f?b-w:b+(6-w),m);case a:case c:return p(y+"Hours",0);case r:return p(y+"Minutes",1);case n:return p(y+"Seconds",2);case e:return p(y+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(i,s){var l,f=_.p(i),d="set"+(this.$u?"UTC":""),h=(l={},l[a]=d+"Date",l[c]=d+"Date",l[o]=d+"Month",l[u]=d+"FullYear",l[r]=d+"Hours",l[n]=d+"Minutes",l[e]=d+"Seconds",l[t]=d+"Milliseconds",l)[f],p=f===a?this.$D+(s-this.$W):s;if(f===o||f===u){var v=this.clone().set(c,1);v.$d[h](p),v.init(),this.$d=v.set(c,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[_.p(t)]()},h.add=function(t,s){var c,l=this;t=Number(t);var f=_.p(s),d=function(e){var n=g(l);return _.w(n.date(n.date()+Math.round(e*t)),l)};if(f===o)return this.set(o,this.$M+t);if(f===u)return this.set(u,this.$y+t);if(f===a)return d(1);if(f===i)return d(7);var h=(c={},c[n]=6e4,c[r]=36e5,c[e]=1e3,c)[f]||1,p=this.$d.getTime()+t*h;return _.w(p,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=_.z(this),a=this.$locale(),i=this.$H,o=this.$m,s=this.$M,u=a.weekdays,c=a.months,l=function(t,r,a,i){return t&&(t[r]||t(e,n))||a[r].substr(0,i)},d=function(t){return _.s(i%12||12,t,"0")},h=a.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:_.s(s+1,2,"0"),MMM:l(a.monthsShort,s,c,3),MMMM:l(c,s),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:l(a.weekdaysMin,this.$W,u,2),ddd:l(a.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:_.s(i,2,"0"),h:d(1),hh:d(2),a:h(i,o,!0),A:h(i,o,!1),m:String(o),mm:_.s(o,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:r};return n.replace(f,(function(t,e){return e||p[t]||r.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,c,l){var f,d=_.p(c),h=g(t),p=6e4*(h.utcOffset()-this.utcOffset()),v=this-h,m=_.m(this,h);return m=(f={},f[u]=m/12,f[o]=m,f[s]=m/3,f[i]=(v-p)/6048e5,f[a]=(v-p)/864e5,f[r]=v/36e5,f[n]=v/6e4,f[e]=v/1e3,f)[d]||v,l?m:_.a(m)},h.daysInMonth=function(){return this.endOf(o).$D},h.$locale=function(){return m[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=y(t,e,!0);return r&&(n.$L=r),n},h.clone=function(){return _.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},d}(),$=w.prototype;return g.prototype=$,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",a],["$M",o],["$y",u],["$D",c]].forEach((function(t){$[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),g.extend=function(t,e){return t.$i||(t(e,w,g),t.$i=!0),g},g.locale=y,g.isDayjs=b,g.unix=function(t){return g(1e3*t)},g.en=m[v],g.Ls=m,g.p={},g}()},cBaE:function(t,e,n){"use strict";var r=n("Wgwc"),a=n.n(r);e.a={formatNumber:function(t){return t.toLocaleString()},formatPercent:function(t){return t.toFixed(3)},formatDate:function(t){return a()(t).format("YYYY-MM-DD HH:mm:ss")}}},rePB:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return r}))}},[["Sur2",0,2,4,1,3,5]]]);